<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="copyright" content="Copyright (c) 2012 EclipseSource. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Differences between RAP/RWT and SWT</title>
  <link rel="stylesheet" href="../../../../PRODUCT_PLUGIN/book.css" type="text/css"/>
</head>
<body>
  <h1>Differences between the RAP Widget Toolkit and SWT</h1>
  <p>
    RAP generally follows the rule "If it compiles, it works.". That means that all SWT API 
    implemented in RWT is working within the requirements set by SWT. If an SWT feature was not 
    implemented, the corresponding API should also be missing. Note that in some cases 
    a method in RWT may have no functionality because it is a valid implementation
    according to SWT documentation.
  </p>
  <p>
    All of this also applies in reverse, as using any RWT-exclusive 
    feature requires code that will not compile out-of-the-box in SWT. However, 
    while RWT includes widgets and classes not present in SWT, it does not add any new API to 
    the classes adopted from SWT.
    Instead, many of the additional features are activated using the widgets <code>setData</code> 
    method, using a constant from the <code> RWT</code> class as the key. <br/>
   </p>
    Example: <code>table.setData( RWT.MARKUP_ENABLED, Boolean.TRUE );</code>
  </p>
  <h2>Notable Additional Features</h2>
  <ul>
    <li>
      <b>HTTP File Upload:</b> <code>FileUpload</code><br/>
      Unlike SWT, RWT can not simply access the file system of the user and read data from it.
      As an alternative, the <code>FileUpload</code> widget can be used. The widget looks like a 
      button and will open the filepicker dialog of the users browser. After a file has been 
      selected, it can programmatically be send to any HTTP server.
      <b> Important:</b> The widget only allows <i>sending</i> the file to a given URL, it does 
      not handle <i>receiving</i> it. If you require a complete solution for uploading and 
      opening the file in your application, consider using the FileDialog implementation based on 
      the FileUpload widget.</br></br>
    </li>
    <li>
      <b>Open new Browser-Window:</b> <code>ExternalBrowser</code><br/>
      This widget allows opening and closing an URL a new browser window or tab. (Depending on the
      browsers configuration, this may be prevented by a popup-blocker). The users RAP session is 
      not affected by this. Unlike the <code>Browser</code> widget, the content of an 
      <code>ExternalBrowser</code> can not communicate
      with the RAP application.
      </br></br>
    </li>
    <li>
       <b>Markup:</b> 
         <code>Label</code>,
         <code>CLabel</code>,
         <code>List</code>,
         <code>Tree</code> and 
         <code>Table</code>
       <br/>
        Several Widgets in RWT support a subset of HTML in their text property. The
       feature has to be activated using <code>RWT.MARKUP_ENABLED</code> and
       <code>RWT.CUSTOM_ITEM_HEIGHT</code> constants. To achieve similar effects in SWT, the 
       application would have to draw on the widget using a <code>PaintListener</code>. 
       This is not supported in RWT except on Canvas.
    <br/><br/>
    </li>
    <li><b>Fixed Columns:</b> 
      <code>Tree</code> and 
      <code>Table</code>
    <br/>
      When a table or tree that displays a greater number of columns, the user often has to 
      scroll horizontally to view specific data. Doing so means loosing sight of the first
      columns, which may contain vital information that should be visible at all times.
      Using <code>RWT.FIXED_COLUMNS</code>, it is possible to exclude any number of leftmost
      columns from scrolling, so that they always "float" on the left border of the tree or table.
      <br/><br/>
    </li> 
    <li><b>Theming:</b> All Widgets<br/>
      In SWT the default visual representation of an widget is determined by the operating
      system. In RAP this is done by its CSS-theming, which developers can 
      <a href = "../advanced/theming.html#variants">enhance or modify</a>.
      Since the RAP theming has more options to change the look of an widget than the SWT API 
      offers, specific widget instances can also be themed with CSS using
      <a href = "../advanced/theming.html#variants">custom variants</a>.<br/><br/> 
    </li>
    <li><b>Browser History Support:</b> <code>IBrowserHistory</code>, <code>RWT</code><br/>
      RWT provides a mechanism to support the "back" and "forward" buttons of the browser that
      has the RAP application loaded. Use <code>RWT.getBrowserHistory()</code> to access
      it. Note that there are known issues when using the browser history and the <code>Browser</code>
      widget in the same application.
      <br/><br/>
    </li> 
    <li><b>Multi-User Environment:</b> <code>ISettingsStore</code>, <code>IApplicationStore</code>, 
    <code>ISessionStore</code>, <code>IServiceStore</code>, <code>SessionSingletonBase</code>, <code>RWT</code><br/>
      Not directly related to the UI aspects of RWT, but a very important difference to SWT
      is that RWT operates in a multi-user environment. This topic has its own <a ="multi-user.html">article</a>.
    </li> 
  </ul>
  <h2>Notable Limitations</h2>
  <ul>
    <li><b>Unimplemtend Features:</b> Touch Events, Accessibility</br>
      While the API for touch event handling and accessibility configuration is present in RWT,
      it does not natively support either. This is a valid implementation according to SWT documentation.<br/><br/>
    </li>
    <li><b>Unimplemented Widgets:</b>
      <code>StyledText</code>, <code>Tracker</code>, <code>TaskBar</code>, <code>Tray</code><br/>
      These widgets are currently not available in RWT.<br/><br/>
    </li>
    <li><b>Drawing Limitations:</b> <code>GC</code>, <code>Canvas</code> and <code>PaintListener</code>:<br/>
      SWT can paint on any widget or image, while RAP currently only allows it on the <code>Canvas</code> widget.
      In some cases the <code>drawText</code>, <code>drawString</code> and <code>drawImage</code> 
      methods may disregard the drawing order and overlap elements that are drawn later. 
      Some methods are unimplemented, including <code>copyArea</code>, <code>drawPath</code>, 
      <code>setClipping</code>, <code>setTransform</code>, <code>setInterpolation</code> 
      <code>setLineDash</code> and <code>setXORMode</code>. Performance and result of a drawing
      operation can differ depending on the browser. See also Self-Drawing custom widget.<br/><br/>
    </li>
    <li><b>Limitations in Dialogs:</b> <code>Dialog</code>, <code>ColorDialog</code>, 
    <code>FontDialog</code>, <code>MessageBox</code><br/>
      When using the JEE compatibility <a href = "../reference/api/org/eclipse/rwt/application/Application.html#OperationMode">OperationMode</a>, dialogs do not block program execution.
      Their return value can still be obtained using the <a href = "../reference/api/org/eclipse/rwt/application/Application.html#OperationMode"><code>DialogUtil</code></a>.<br/><br/>
    </li>
    <li id ="browser"><b>Limitations of the Browser widget</b>: <code>Browser</code> <br/>
      Since the <code>Browser</code> widget is based on the HTML <code>"iFrame"</code> element,
      all security restrictions regarding cross-frame-scripting apply. This means for 
      <code>executeScript</code>, <code>evaluate</code> and <code>BrowserFunction</code> to work,
      the document loaded in the <code>Browser</code>/<code>iFrame</code> has to come from the 
      same domain and port that the RAP application is loaded from. This is automatically given
      if the <code>setText</code> method is used.</br></br>
      Also, when using the JEE compatibility <a href = "../reference/api/org/eclipse/rwt/application/Application.html#OperationMode">OperationMode</a>, the <code>executeScript</code>
      and <code>evaluate</code> methods will not block program execution. Like with dialogs, a 
      workaround is possible using the class <a href = "../reference/api/org/eclipse/rwt/application/Application.html#OperationMode"><code>BrowserUtil</code></a>.  
    <br/><br/>
    </li>
    <li><b>Limitations in Mouse and Key Events:</b> <code>MouseEvent</code> and <code>KeyEvent</code><br/>
      See <q><a href = "key-and-mouse-events.html">Mouse and Key Event Handling in RAP</a></q>.<br/><br/>
    </li>
    <li><b>Limitations in Verify and Modify Events:</b> <code>ModifyEvent</code>, <code>VerifyEvent</code><br/>
        Modify and Verify events are not fired instantaneously, but with a small delay, possibly 
        combining a number of changes into one event. Also, the values of the 
        <code>VerifyEvent</code> fields <code>text</code>, <code>start</code> and <code>end</code> 
        currently always report the entire text to have changed. The ClientScripting project was 
        created specifically to work around these limitations.
     </br></br>
    </li>
    <li><b>Limitations in Drag and Drop:</b> <code>DragSourceEvent</code>, <code>DropTargetEvent</code><br/>
      In <code>DragSourceEvent</code>, the fields <code>image</code>, <code>offsetX</code> and
      <code>offsetY</code> have no effect. <code>DropTargetEvent</code>s may be omitted while the
      mouse cursor is still in motion.
      </br></br>
    </li>
    <li><b>Limitations of syncExec and asyncExec:</b> <code>Display</code><br/>
      When calling <code>Display#syncExec</code> or <code>Display#asyncExec</code> from a 
      background-thread, the UI may not be updated immediately. This is due to the client-server 
      architecture of RAP, in which only the client can send requests to the server. There is a 
      solution for this provided by the class <a href = "../reference/api/org/eclipse/rwt/lifecycle/UICallBack.html"><code>UICallBack</code></a>. Read more about it <a href = "../advanced/server-push.html">here</a>. 
      Note that <code>timerExec</code> does, as of RAP 1.5, <em>not</em> require UICallBack anymore. 
      (It uses UICallBack internally.)
    </li>
  </ul>
</body>
</html>
